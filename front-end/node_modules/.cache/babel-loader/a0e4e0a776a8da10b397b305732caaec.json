{"remainingRequest":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\babel-loader\\lib\\index.js!D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\src\\views\\equipment\\EquipmentUsing.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\src\\views\\equipment\\EquipmentUsing.vue","mtime":1562869728000},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1573725483614},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1573725517685}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\nimport _Object$assign from \"D:\\\\Documents\\\\GitHub\\\\Psyche\\\\front-end\\\\db-front\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/object/assign\";\nimport _objectSpread from \"D:\\\\Documents\\\\GitHub\\\\Psyche\\\\front-end\\\\db-front\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"D:\\\\Documents\\\\GitHub\\\\Psyche\\\\front-end\\\\db-front\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport _parseInt from \"D:\\\\Documents\\\\GitHub\\\\Psyche\\\\front-end\\\\db-front\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/parse-int\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getEquipmentUsingList } from '@/api/equipment';\nimport { PageView } from '@/layouts';\nimport Fuse from 'fuse.js';\nvar statusMap = {\n  0: {\n    status: 'success',\n    text: '正常'\n  },\n  1: {\n    status: 'error',\n    text: '损坏'\n  }\n};\nvar columns = [{\n  title: '器材编号',\n  dataIndex: 'id',\n  width: '15%',\n  align: 'center',\n  scopedSlots: {\n    customRender: 'id'\n  },\n  sorter: function sorter(a, b) {\n    return _parseInt(a.id.toString().slice(2)) - _parseInt(b.id.toString().slice(2));\n  }\n}, {\n  title: '类别',\n  dataIndex: 'type',\n  align: 'center',\n  width: '10%',\n  scopedSlots: {\n    customRender: 'type'\n  }\n}, {\n  title: '使用状态',\n  dataIndex: 'status',\n  align: 'center',\n  width: '10%',\n  filters: [{\n    text: '正常',\n    value: '0'\n  }, {\n    text: '损坏',\n    value: '1'\n  }],\n  onFilter: function onFilter(value, record) {\n    return record.status.indexOf(value) === 0;\n  },\n  scopedSlots: {\n    customRender: 'status'\n  }\n}, {\n  title: '型号',\n  dataIndex: 'model',\n  align: 'center',\n  width: '12%',\n  scopedSlots: {\n    customRender: 'model'\n  }\n}, {\n  title: '地址',\n  dataIndex: 'address',\n  align: 'center',\n  width: '30%',\n  scopedSlots: {\n    customRender: 'address'\n  }\n}, {\n  title: ' ',\n  dataIndex: 'toDetail',\n  align: 'center',\n  width: '15%',\n  scopedSlots: {\n    customRender: 'toDetail'\n  }\n}];\nvar inputID = '';\nvar inputAddress = '';\nvar inputmodel = '';\nvar eData = [];\nvar eDataShow = [];\nexport default {\n  inject: ['reload'],\n  name: 'EquipUsing',\n  components: {\n    PageView: PageView\n  },\n  data: function data() {\n    return {\n      attribute: [{\n        type: 'type',\n        cnType: '类别',\n        guide: '类别筛选'\n      }],\n      equipmentData: {\n        type: ''\n      },\n      eData: eData,\n      eDataShow: eDataShow,\n      inputID: '',\n      inputAddress: '',\n      inputmodel: '',\n      columns: columns,\n      advanced: false,\n      form: this.$form.createForm(this),\n      queryParam: {}\n    };\n  },\n  computed: {\n    emptyInput: function emptyInput() {\n      if (this.equipmentData.id !== '' || this.equipmentData.type !== '' || this.equipmentData.status !== '' || this.equipmentData.damage !== '') {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  },\n  filters: {\n    statusFilter: function statusFilter(type) {\n      return statusMap[type].text;\n    },\n    statusTypeFilter: function statusTypeFilter(type) {\n      return statusMap[type].status;\n    }\n  },\n  methods: {\n    clickJump: function clickJump(record) {\n      console.log(record);\n    },\n    onClickClearSelect: function onClickClearSelect() {\n      this.equipmentData.type = '';\n    },\n    onClickSubmit: function onClickSubmit() {\n      console.log(this.equipmentData);\n      this.onClickClearSelect();\n    },\n    handleChange: function handleChange(value, key, column) {\n      var newData = _toConsumableArray(this.eData);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n\n      if (target) {\n        target[column] = value;\n        this.eData = newData;\n      }\n    },\n    edit: function edit(key) {\n      var newData = _toConsumableArray(this.eData);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n\n      if (target) {\n        target.editable = true;\n        this.eData = newData;\n      }\n    },\n    save: function save(key) {\n      var newData = _toConsumableArray(this.eData);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n\n      if (target) {\n        delete target.editable;\n        this.eData = newData;\n        this.cacheData = newData.map(function (item) {\n          return _objectSpread({}, item);\n        });\n      }\n    },\n    cancel: function cancel(key) {\n      var newData = _toConsumableArray(this.eData);\n\n      var target = newData.filter(function (item) {\n        return key === item.key;\n      })[0];\n\n      if (target) {\n        _Object$assign(target, this.cacheData.filter(function (item) {\n          return key === item.key;\n        })[0]);\n\n        delete target.editable;\n        this.eData = newData;\n      }\n    },\n    toggleAdvanced: function toggleAdvanced() {\n      this.advanced = !this.advanced;\n    },\n    resetSearchForm: function resetSearchForm() {\n      this.queryParam = {\n        date: moment(new Date())\n      };\n    },\n    getID: function getID(id) {\n      var newData = _toConsumableArray(this.eDataShow);\n\n      var target = newData.filter(function (item) {\n        return id === item.id;\n      })[0];\n      console.log(target.id);\n      return target.id;\n    }\n  },\n  watch: {\n    inputID: function inputID(pattern) {\n      if (pattern == '') {\n        this.eDataShow = this.eData;\n      } else {\n        var option = {\n          keys: ['id'],\n          threshold: 0.1\n        };\n        var fuse = new Fuse(this.eData, option);\n        this.eDataShow = fuse.search(pattern);\n        console.log(this.eDataShow);\n      }\n    },\n    inputAddress: function inputAddress(pattern) {\n      if (pattern == '') {\n        this.eDataShow = this.eData;\n      } else {\n        var option = {\n          keys: ['address'],\n          threshold: 0.1\n        };\n        var fuse = new Fuse(this.eData, option);\n        this.eDataShow = fuse.search(pattern);\n        console.log(this.eDataShow);\n      }\n    },\n    inputmodel: function inputmodel(pattern) {\n      if (pattern == '') {\n        this.eDataShow = this.eData;\n      } else {\n        var option = {\n          keys: ['model'],\n          threshold: 0.1\n        };\n        var fuse = new Fuse(this.eData, option);\n        this.eDataShow = fuse.search(pattern);\n        console.log(this.eDataShow);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    getEquipmentUsingList().then(function (response) {\n      var _console;\n\n      (_console = console).log.apply(_console, _toConsumableArray(response.data));\n\n      _this.eData = _toConsumableArray(response.data);\n      _this.eDataShow = _this.eData;\n    });\n  }\n};",{"version":3,"sources":["EquipmentUsing.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <page-view title=\"在用器材\">\n    <div>\n      <a-card :bordered=\"false\">\n        <br />\n        <a-form class=\"ant-advanced-search-form\" :form=\"form\" inline>\n          <a-row :gutter=\"24\">\n            <a-col :span=\"6\">\n              <a-form-item>\n                <label>器材编号：</label>\n                <a-input placeholder=\"请输入器材编号\" v-model=\"inputID\" />\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"6\">\n              <a-form-item>\n                <label>型号：</label>\n                <a-input placeholder=\"请输入型号\" v-model=\"inputmodel\" />\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"6\">\n              <a-form-item>\n                <label>地址：</label>\n                <a-input placeholder=\"请输入地址\" v-model=\"inputAddress\" />\n              </a-form-item>\n            </a-col>\n            <a-col :span=\"6\">\n              <a-form-item>\n                <div style=\"text-align: right; margin-top: 2rem\">\n                  <a-button @click=\"reload()\" size=\"large\" type=\"primary\" icon=\"reload\">刷新</a-button>\n                </div>\n              </a-form-item>\n            </a-col>\n          </a-row>\n        </a-form>\n        <br />\n        <div>\n          <a-table :columns=\"columns\" :dataSource=\"eDataShow\" rowKey=\"id\" bordered>\n            <template\n              v-for=\"col in ['id', 'type', 'damage', 'address', 'status']\"\n              :slot=\"col\"\n              slot-scope=\"text\"\n            >\n              <div :key=\"col\">{{ text }}</div>\n            </template>\n            <template slot=\"id\" slot-scope=\"text\">{{ text }}</template>\n            <template slot=\"status\" slot-scope=\"text\">\n              <a-badge :status=\"text | statusTypeFilter\" :text=\"text | statusFilter\" />\n            </template>\n            <template slot=\"toDetail\" slot-scope=\"text, record\">\n              <div>\n                <router-link :to=\"{ name: 'EquipDetail', params:{ id: getID(record.id)} }\">器材详情</router-link>\n              </div>\n            </template>\n          </a-table>\n        </div>\n      </a-card>\n    </div>\n  </page-view>\n</template>\n\n<script>\nimport { getEquipmentUsingList } from '@/api/equipment'\nimport { PageView } from '@/layouts'\nimport Fuse from 'fuse.js'\nconst statusMap = {\n  0: {\n    status: 'success',\n    text: '正常'\n  },\n  1: {\n    status: 'error',\n    text: '损坏'\n  }\n}\nconst columns = [\n  {\n    title: '器材编号',\n    dataIndex: 'id',\n    width: '15%',\n    align: 'center',\n    scopedSlots: { customRender: 'id' },\n    sorter: (a, b) => parseInt(a.id.toString().slice(2)) - parseInt(b.id.toString().slice(2))\n  },\n  {\n    title: '类别',\n    dataIndex: 'type',\n    align: 'center',\n    width: '10%',\n    scopedSlots: { customRender: 'type' }\n  },\n  {\n    title: '使用状态',\n    dataIndex: 'status',\n    align: 'center',\n    width: '10%',\n    filters: [\n      {\n        text: '正常',\n        value: '0'\n      },\n      {\n        text: '损坏',\n        value: '1'\n      }\n    ],\n    onFilter: (value, record) => record.status.indexOf(value) === 0,\n    scopedSlots: { customRender: 'status' }\n  },\n  {\n    title: '型号',\n    dataIndex: 'model',\n    align: 'center',\n    width: '12%',\n    scopedSlots: { customRender: 'model' }\n  },\n  {\n    title: '地址',\n    dataIndex: 'address',\n    align: 'center',\n    width: '30%',\n    scopedSlots: { customRender: 'address' }\n  },\n  {\n    title: ' ',\n    dataIndex: 'toDetail',\n    align: 'center',\n    width: '15%',\n    scopedSlots: { customRender: 'toDetail' }\n  }\n]\nlet inputID = ''\nlet inputAddress = ''\nlet inputmodel = ''\nconst eData = []\nconst eDataShow = []\nexport default {\n  inject: ['reload'],\n  name: 'EquipUsing',\n  components: {\n    PageView\n  },\n  data() {\n    return {\n      attribute: [{ type: 'type', cnType: '类别', guide: '类别筛选' }],\n      equipmentData: {\n        type: ''\n      },\n      eData,\n      eDataShow,\n      inputID: '',\n      inputAddress: '',\n      inputmodel: '',\n      columns,\n      advanced: false,\n      form: this.$form.createForm(this),\n      queryParam: {}\n    }\n  },\n  computed: {\n    emptyInput() {\n      if (\n        this.equipmentData.id !== '' ||\n        this.equipmentData.type !== '' ||\n        this.equipmentData.status !== '' ||\n        this.equipmentData.damage !== ''\n      ) {\n        return false\n      } else {\n        return true\n      }\n    }\n  },\n  filters: {\n    statusFilter(type) {\n      return statusMap[type].text\n    },\n    statusTypeFilter(type) {\n      return statusMap[type].status\n    }\n  },\n  methods: {\n    clickJump(record) {\n      console.log(record)\n    },\n    onClickClearSelect() {\n      this.equipmentData.type = ''\n    },\n    onClickSubmit() {\n      console.log(this.equipmentData)\n      this.onClickClearSelect()\n    },\n    handleChange(value, key, column) {\n      const newData = [...this.eData]\n      const target = newData.filter(item => key === item.key)[0]\n      if (target) {\n        target[column] = value\n        this.eData = newData\n      }\n    },\n    edit(key) {\n      const newData = [...this.eData]\n      const target = newData.filter(item => key === item.key)[0]\n      if (target) {\n        target.editable = true\n        this.eData = newData\n      }\n    },\n    save(key) {\n      const newData = [...this.eData]\n      const target = newData.filter(item => key === item.key)[0]\n      if (target) {\n        delete target.editable\n        this.eData = newData\n        this.cacheData = newData.map(item => ({ ...item }))\n      }\n    },\n    cancel(key) {\n      const newData = [...this.eData]\n      const target = newData.filter(item => key === item.key)[0]\n      if (target) {\n        Object.assign(target, this.cacheData.filter(item => key === item.key)[0])\n        delete target.editable\n        this.eData = newData\n      }\n    },\n    toggleAdvanced() {\n      this.advanced = !this.advanced\n    },\n    resetSearchForm() {\n      this.queryParam = {\n        date: moment(new Date())\n      }\n    },\n    getID(id) {\n      const newData = [...this.eDataShow]\n      const target = newData.filter(item => id === item.id)[0]\n      console.log(target.id)\n      return target.id\n    }\n  },\n  watch: {\n    inputID(pattern) {\n      if (pattern == '') {\n        this.eDataShow = this.eData\n      } else {\n        const option = {\n          keys: ['id'],\n          threshold: 0.1\n        }\n        var fuse = new Fuse(this.eData, option)\n        this.eDataShow = fuse.search(pattern)\n        console.log(this.eDataShow)\n      }\n    },\n    inputAddress(pattern) {\n      if (pattern == '') {\n        this.eDataShow = this.eData\n      } else {\n        const option = {\n          keys: ['address'],\n          threshold: 0.1\n        }\n        var fuse = new Fuse(this.eData, option)\n        this.eDataShow = fuse.search(pattern)\n        console.log(this.eDataShow)\n      }\n    },\n    inputmodel(pattern) {\n      if (pattern == '') {\n        this.eDataShow = this.eData\n      } else {\n        const option = {\n          keys: ['model'],\n          threshold: 0.1\n        }\n        var fuse = new Fuse(this.eData, option)\n        this.eDataShow = fuse.search(pattern)\n        console.log(this.eDataShow)\n      }\n    }\n  },\n  mounted() {\n    getEquipmentUsingList().then(response => {\n      console.log(...response.data)\n      this.eData = [...response.data]\n      this.eDataShow = this.eData\n    })\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import '~ant-design-vue/lib/style/themes/default.less';\n.button-group {\n  margin-bottom: 1rem;\n  .button {\n    margin-left: 0.5rem;\n    margin-left: 0.5rem;\n  }\n}\n.ant-form-inline .ant-form-item {\n  display: inline-block;\n  margin-right: 0;\n}\n.ant-form-item-control-wrapper {\n  width: 100px;\n}\n.table-page-search-wrapper .ant-form-inline .ant-form-item .ant-form-item-control-wrapper {\n  width: 100%;\n}\n</style>\n"],"sourceRoot":"src/views/equipment"}]}