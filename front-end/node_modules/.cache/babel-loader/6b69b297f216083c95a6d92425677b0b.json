{"remainingRequest":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\babel-loader\\lib\\index.js!D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\src\\views\\sheets\\checkSheet.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\src\\views\\sheets\\checkSheet.vue","mtime":1562869728000},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1573725483614},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1573725517685}],"contextDependencies":[],"result":["import _toConsumableArray from \"D:\\\\Documents\\\\GitHub\\\\Psyche\\\\front-end\\\\db-front\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.regexp.search\";\nimport _objectSpread from \"D:\\\\Documents\\\\GitHub\\\\Psyche\\\\front-end\\\\db-front\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getCheckSheet, deleteCheckSheetRow } from '@/api/sheets';\nimport Vue from 'vue';\nimport Fuse from 'fuse.js';\nimport Lightbox from 'vue-easy-lightbox';\nimport { PageView } from '@/layouts';\nVue.use(Lightbox);\nvar columns = [{\n  title: '巡检单单号',\n  dataIndex: 'id',\n  align: 'center',\n  sorter: function sorter(a, b) {\n    return a.id > b.id;\n  }\n}, {\n  title: '巡检员编号',\n  dataIndex: 'potrolID',\n  align: 'center',\n  sorter: function sorter(a, b) {\n    return a.potrolID > b.potrolID;\n  }\n}, {\n  title: '巡检员姓名',\n  dataIndex: 'potrolName',\n  align: 'center',\n  sorter: function sorter(a, b) {\n    return a.potrolID > b.potrolID;\n  }\n}, {\n  title: '巡检器材编号',\n  dataIndex: 'eqID',\n  align: 'center',\n  sorter: function sorter(a, b) {\n    return a.eqID > b.eqID;\n  }\n}, {\n  title: '巡检时间',\n  dataIndex: 'checkTime',\n  align: 'center',\n  sorter: function sorter(a, b) {\n    return a.checkTime > b.checkTime;\n  }\n}, {\n  title: '巡检地区',\n  align: 'center',\n  dataIndex: 'checkArea'\n}, {\n  title: '巡检结果图片',\n  align: 'center',\n  dataIndex: 'checkPic',\n  scopedSlots: {\n    customRender: 'checkPic'\n  }\n}, {\n  titile: '操作',\n  align: 'center',\n  dataIndex: 'operation',\n  scopedSlots: {\n    customRender: 'operation'\n  }\n}];\nvar Data = [];\nvar DataShow = [];\nexport default {\n  components: {\n    PageView: PageView\n  },\n  inject: ['reload'],\n  data: function data() {\n    this.cacheData = Data.map(function (item) {\n      return _objectSpread({}, item);\n    });\n    return {\n      Data: Data,\n      DataShow: DataShow,\n      input: '',\n      input2: '',\n      input3: '',\n      columns: columns,\n      visible: false,\n      visible2: false,\n      src: \"\",\n      deleteInfo: '',\n      isRouterAlive: true,\n      todelete: '',\n      form: this.$form.createForm(this)\n    };\n  },\n  watch: {\n    input: function input(pattern) {\n      if (pattern == '') {\n        this.DataShow = this.Data;\n      } else {\n        var option = {\n          keys: ['id'],\n          threshold: 0.1\n        };\n        var fuse = new Fuse(this.Data, option);\n        this.DataShow = fuse.search(pattern);\n      }\n    },\n    input2: function input2(pattern) {\n      if (pattern == '') {\n        this.DataShow = this.Data;\n      } else {\n        var option = {\n          keys: ['potrolID'],\n          threshold: 0.1\n        };\n        var fuse = new Fuse(this.Data, option);\n        this.DataShow = fuse.search(pattern);\n      }\n    },\n    input3: function input3(pattern) {\n      if (pattern == '') {\n        this.DataShow = this.Data;\n      } else {\n        var option = {\n          keys: ['potrolName'],\n          threshold: 0.1\n        };\n        var fuse = new Fuse(this.Data, option);\n        this.DataShow = fuse.search(pattern);\n      }\n    }\n  },\n  computed: {},\n  methods: {\n    showImg: function showImg(text) {\n      this.visible = true;\n      this.src = text;\n    },\n    //select\n    handleHide: function handleHide() {\n      this.visible = false;\n    },\n    onClickRefresh: function onClickRefresh() {\n      this.reload();\n    },\n    //delete\n    onClickDelete: function onClickDelete(id) {\n      this.todelete = id;\n      this.visible2 = true;\n    },\n    handleOK: function handleOK(e) {\n      this.visible2 = false; //to be completed\n    },\n    onClickDeleteRow: function onClickDeleteRow() {\n      var _this = this;\n\n      var h = this.$createElement;\n      this.visible2 = false;\n\n      var newData = _toConsumableArray(this.DataShow);\n\n      console.log(newData);\n      var target = newData.filter(function (item) {\n        return _this.todelete === item.id;\n      })[0];\n      console.log(target);\n      deleteCheckSheetRow({\n        id: target.id\n      }).then(function (response) {\n        _this.deleteInfo = response.info;\n        console.log('delete', _this.deleteInfo);\n\n        if (_this.deleteInfo !== 'fail') {\n          _this.Data = _toConsumableArray(response.data);\n          _this.DataShow = _this.Data;\n        }\n\n        if (_this.deleteInfo === 'ok') {\n          _this.$notification.open({\n            message: '删除成功',\n            description: '本条巡检单记录删除成功',\n            icon: h(\"a-icon\", {\n              \"attrs\": {\n                \"type\": \"check\"\n              },\n              \"style\": \"color: #108ee9\"\n            })\n          });\n        } else {\n          _this.$notification.open({\n            message: '删除失败',\n            description: '本条巡检单记录删除失败',\n            icon: h(\"a-icon\", {\n              \"attrs\": {\n                \"type\": \"warning\"\n              },\n              \"style\": \"color: #108ee9\"\n            })\n          });\n        }\n      }); // to be complete\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    getCheckSheet().then(function (response) {\n      var _console;\n\n      (_console = console).log.apply(_console, _toConsumableArray(response.data));\n\n      _this2.Data = _toConsumableArray(response.data);\n      _this2.DataShow = _this2.Data;\n    });\n  }\n};",{"version":3,"sources":["checkSheet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <page-view title=\"巡检单管理\">\n    <div>\n      <div>\n        <a-form class=\"ant-advanced-search-form\" :form=\"form\">\n          <a-row :gutter=\"24\">\n            <a-col :md=\"8\" :sm=\"24\">\n              <a-form-item label=\"巡检单单号\">\n                <a-input placeholder=\"请输入巡检单单号\" v-model=\"input\"/>\n              </a-form-item>\n            </a-col>\n          </a-row>\n          <a-row :gutter='24'>\n            <a-col :md=\"8\" :sm=\"24\" :lg='10'>\n              <a-form-item label=\"根据编号查找巡检员\">\n                <a-input placeholder=\"请输入巡检员编号\" v-model=\"input2\"/>\n              </a-form-item>\n            </a-col>\n\n            <a-col :md=\"8\" :sm=\"24\" :lg='10'>\n              <a-form-item label=\"根据姓名查找巡检员\">\n                <a-input placeholder=\"请输入巡检员姓名\" v-model=\"input3\"/>\n              </a-form-item>\n            </a-col>\n\n          </a-row>\n          <a-row>\n            <a-col :span=\"4\" style=\" textAlign: 'left';margin-bottom: 24px\">\n              <a-button\n                size=\"large\"\n                class=\"button\"\n                type=\"primary\"\n                @click=\"onClickRefresh\"\n              >刷新表单\n              </a-button>\n            </a-col>\n          </a-row>\n        </a-form>\n      </div>\n      <!-- table -->\n      <a-card>\n        <a-table :columns=\"columns\" :dataSource=\"DataShow\" rowKey='id' bordered>\n          <template\n            v-for=\"col in ['id','potrolID', '','eqID','checkTime','checkArea']\"\n            :slot=\"col\"\n            slot-scope=\"text\"\n          >\n            <div :key=\"col\">\n              {{ text }}\n            </div>\n          </template>\n          <template slot=\"checkPic\" slot-scope=\"text\">\n            <!--<div>\n              <a-avatar slot=\"avatar\" size=\"large\" shape=\"square\" :src=\"text\"/>\n            </div>-->\n            <div id=\"app\">\n              <div class=\"\">\n                <div\n                  class=\"pic\"\n                  @click=\"() => showImg(text)\"\n                >\n                  <a-avatar :src=\"text\"/>\n                </div>\n              </div>\n              <vue-easy-lightbox\n                :visible=\"visible\"\n                :imgs=\"src\"\n                @hide=\"handleHide\"\n              ></vue-easy-lightbox>\n            </div>\n          </template>\n          <template slot=\"operation\" slot-scope=\"text, record\">\n            <div class=\"button\">\n              <a-button\n                size=\"small\"\n                type=\"danger\"\n                @click=\"onClickDelete(record.id)\"\n              >删除\n              </a-button>\n              <a-modal\n                title=\"确认删除\"\n                v-model=\"visible2\"\n                @ok=\"onClickDeleteRow\"\n              >\n                <div class=\"modal\">\n                  是否删除本条记录\n                </div>\n              </a-modal>\n            </div>\n          </template>\n        </a-table>\n      </a-card>\n      <!-- table end -->\n      <!-- add bar -->\n      <!-- add bar end -->\n    </div>\n  </page-view>\n</template>\n\n<script>\nimport { getCheckSheet, deleteCheckSheetRow } from '@/api/sheets'\nimport Vue from 'vue'\nimport Fuse from 'fuse.js'\nimport Lightbox from 'vue-easy-lightbox'\nimport { PageView } from '@/layouts'\n\nVue.use(Lightbox)\n\nconst columns = [{\n  title: '巡检单单号',\n  dataIndex: 'id',\n  align: 'center',\n  sorter: (a, b) => a.id > b.id,\n}, {\n  title: '巡检员编号',\n  dataIndex: 'potrolID',\n  align: 'center',\n  sorter: (a, b) => a.potrolID > b.potrolID,\n}, {\n  title: '巡检员姓名',\n  dataIndex: 'potrolName',\n  align: 'center',\n  sorter: (a, b) => a.potrolID > b.potrolID,\n},{\n  title: '巡检器材编号',\n  dataIndex: 'eqID',\n  align: 'center',\n  sorter: (a, b) => a.eqID > b.eqID,\n}, {\n  title: '巡检时间',\n  dataIndex: 'checkTime',\n  align: 'center',\n  sorter: (a, b) => a.checkTime > b.checkTime\n},{\n  title: '巡检地区',\n  align: 'center',\n  dataIndex: 'checkArea',\n},{\n  title: '巡检结果图片',\n  align: 'center',\n  dataIndex: 'checkPic',\n  scopedSlots: { customRender: 'checkPic' }\n},{\n  titile: '操作',\n  align: 'center',\n  dataIndex: 'operation',\n  scopedSlots: { customRender: 'operation' }\n}];\n\nconst Data = []\nconst DataShow = []\n\nexport default {\n  components: {\n    PageView\n  },\n  inject: ['reload'],\n  data() {\n    this.cacheData = Data.map(item => ({ ...item }))\n    return {\n      Data,\n      DataShow,\n      input: '',\n      input2: '',\n      input3: '',\n      columns,\n      visible: false,\n      visible2: false,\n      src: \"\",\n      deleteInfo:'',\n      isRouterAlive: true,\n      todelete:'',\n      form: this.$form.createForm(this)\n    }\n  },\n  watch:{\n      input(pattern){\n          if(pattern == ''){\n              this.DataShow = this.Data\n          }\n          else{\n              const option = {\n                  keys: ['id'],\n                  threshold: 0.1\n              }\n              var fuse = new Fuse(this.Data,option)\n              this.DataShow = fuse.search(pattern)\n          }\n      },\n      input2(pattern){\n          if(pattern == ''){\n              this.DataShow = this.Data\n          }\n          else{\n              const option = {\n                  keys: ['potrolID'],\n                  threshold: 0.1\n              }\n              var fuse = new Fuse(this.Data,option)\n              this.DataShow = fuse.search(pattern)\n          }\n      },\n      input3(pattern){\n          if(pattern == ''){\n              this.DataShow = this.Data\n          }\n          else{\n              const option = {\n                  keys: ['potrolName'],\n                  threshold: 0.1\n              }\n              var fuse = new Fuse(this.Data,option)\n              this.DataShow = fuse.search(pattern)\n          }\n      }\n  },\n  computed:{\n\n  },\n  methods: {\n    showImg (text) {\n        this.visible = true\n        this.src = text\n      },\n    //select\n    handleHide () {\n      this.visible = false\n    },\n\n    onClickRefresh(){\n      this.reload()\n    },\n    //delete\n    onClickDelete (id) {\n      this.todelete = id\n      this.visible2 = true;\n    },\n    handleOK(e){\n        this.visible2 = false;\n        //to be completed\n    },\n    onClickDeleteRow () {\n      this.visible2 = false;\n      const newData = [...this.DataShow]\n      console.log(newData)\n      const target = newData.filter(item => this.todelete === item.id)[0]\n      console.log(target)\n      deleteCheckSheetRow({ id : target.id}).then((response) => {\n        this.deleteInfo = response.info\n        console.log('delete', this.deleteInfo)\n        if(this.deleteInfo !== 'fail'){\n          this.Data = [...response.data]\n          this.DataShow = this.Data\n          \n        }\n        if(this.deleteInfo === 'ok'){\n          this.$notification.open({\n          message: '删除成功',\n          description: '本条巡检单记录删除成功',\n          icon: <a-icon type=\"check\" style=\"color: #108ee9\" />,\n        })\n        }\n        else{\n          this.$notification.open({\n          message: '删除失败',\n          description: '本条巡检单记录删除失败',\n          icon: <a-icon type=\"warning\" style=\"color: #108ee9\" />,\n        })\n        }\n      })\n      // to be complete\n    },\n  },\n  mounted () {\n    getCheckSheet().then((response) => {\n      console.log(...response.data)\n      this.Data = [...response.data]\n      this.DataShow = this.Data\n    })\n  }\n\n}\n\n</script>\n\n<style lang=\"less\" scoped>\n@import '~ant-design-vue/lib/style/themes/default.less';\n.button-group {\n  margin-bottom: 1rem;\n  .button {\n    margin-left: 0.5rem;\n    margin-left: 0.5rem;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/sheets"}]}