{"remainingRequest":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\src\\views\\equipment\\EquipInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\src\\views\\equipment\\EquipInfo.vue","mtime":1562869728000},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1573725483614},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1573722996621},{"path":"D:\\Documents\\GitHub\\Psyche\\front-end\\db-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1573725517685}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mixinDevice} from '@/utils/mixin'\nimport {PageView} from '@/layouts'\nimport DetailList from '@/components/tools/DetailList'\nimport ACol from \"ant-design-vue/es/grid/Col\"\nimport {postEquipmentDetail} from \"@/api/equipment\";\n\nconst DetailListItem = DetailList.Item\n\nfunction getDays(startDateStr,endDateStr){\n  var startDateArr,endDateArr,days;\n  startDateArr = startDateStr.split('.');\n  endDateArr = endDateStr.split('.');\n  var newDateS = new Date(Date.UTC(startDateArr[0],startDateArr[1]-1,startDateArr[2]));\n  var newDateE = new Date(Date.UTC(endDateArr[0],endDateArr[1]-1,endDateArr[2]));\n  days = parseInt(Math.abs(newDateE - newDateS ) / 1000 / 60 / 60 /24);\n  return days;\n}\n\nexport default {\n  name: 'EquipInfo',\n  components: {\n    ACol,\n    PageView,\n    DetailList,\n    DetailListItem\n  },\n  mixins: [mixinDevice],\n  data() {\n    return {\n      cStyle: {},\n      name: '',\n      factory_time: '',\n      install_time: '',\n      using_time: '',\n      unit: '',\n      address: '',\n      if_damage: '',\n      QRcode: '',\n      icon: '',\n      equipMessage: '',\n      infoData: [],\n      IDTitle: '器材编号：' + this.$route.params.id,\n\n      equipmentID: this.$route.params.id,\n    }\n  },\n  watch: {\n    if_damage (is){\n      if(is === \"损坏\"){\n        this.cStyle= {color:'red'}\n      } else {\n        this.cStyle= {color:'black'}\n      }\n    }\n  },\n  mounted() {\n    postEquipmentDetail({id: this.equipmentID}).then((response) => {\n      console.log(response);\n      console.log(this.equipmentID);\n      this.DetailData = response.data;\n      this.name = this.DetailData.name;\n      this.factory_time = this.DetailData.factory_time;\n      this.install_time = this.DetailData.install_time;\n      this.using_time = this.DetailData.using_time;\n      this.unit = this.DetailData.unit;\n      this.address = this.DetailData.address;\n      if (this.DetailData.if_damage === \"1\") {\n        this.if_damage = '损坏'\n      } else {\n        this.if_damage = '正常'\n      };\n      if (this.DetailData.name === '太空漫步机') {\n        this.equipMessage = '太空漫步机可以锻炼下肢肌肉力量灵活性，促进心脑血管系统及心肺呼吸系统的健康，而且还增加了热量消耗。'\n      } else if (this.DetailData.name === '跑步机') {\n        this.equipMessage='跑步机是家庭及健身房常备的健身器材，而且是当今家庭健身器材中最简单的一种，是家庭健身器的最佳选择。'\n      }else {\n        this.equipMessage='增强人体的心肺功能，活动全身主要关节，发展上下肢和腰背部力量，还能通过运动按摩内脏增强消化系统功能。'\n      };\n      this.icon = this.DetailData.icon;\n      this.QRcode = this.DetailData.QRcode;\n      var date = new Date();\n      var nowMonth = date.getMonth() + 1;\n      var strDate = date.getDate();\n      var seperator = \".\";\n      var nowDate = date.getFullYear() + seperator + nowMonth + seperator + strDate;\n      this.using_time = getDays(this.install_time, nowDate)\n    })\n  },\n}\n",{"version":3,"sources":["EquipInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EquipInfo.vue","sourceRoot":"src/views/equipment","sourcesContent":["<template>\n  <page-view :title=\"IDTitle\" logo=\"https://gw.alipayobjects.com/zos/rmsportal/nxkuOJlFJuAUhzlMTCEe.png\">\n    <div class=\"return-button\">\n      <router-link :to=\"{name: 'EquipUsing'}\">\n        <a-button type=\"primary\" >\n          <a-icon type=\"left\"/>返回\n        </a-button>\n      </router-link>\n    </div>\n\n\n    <a-row :gutter=\"24\">\n      <a-col :md=\"24\" :lg=\"7\">\n        <a-card style=\"margin-top: 0px; font-size: medium\" :bordered=\"true\">\n          <div class=\"page-header-index-wide page-header-wrapper-grid-content-main\">\n            <div class=\"account-center-avatarHolder\">\n              <div class=\"avatar\">\n                <img :src=\"icon\">\n              </div>\n              <div class=\"username\">{{name}}</div>\n              <div class=\"bio\">每天锻炼，身体倍棒</div>\n            </div>\n            <a-divider/>\n            <div class=\"account-center-detail\">\n              <p>\n                <i class=\"title\"></i>健身器械\n              </p>\n              <p>\n                <i class=\"group\"></i>{{ equipMessage }}\n              </p>\n            </div>\n          </div>\n        </a-card>\n      </a-col>\n\n      <a-col :md=\"24\" :lg=\"17\">\n        <a-card style=\"margin-top: 0px; font-size: medium\" :bordered=\"true\" title=\"器材信息\">\n          <detail-list>\n            <detail-list-item term=\"出厂时间\">{{factory_time}}</detail-list-item>\n            <detail-list-item term=\"安装时间\">{{install_time}}</detail-list-item>\n            <detail-list-item term=\"使用时长\">{{using_time}}天</detail-list-item>\n            <detail-list-item term=\"使用单位\">{{unit}}</detail-list-item>\n            <detail-list-item term=\"联系地址\">{{address}}</detail-list-item>\n          </detail-list>\n          <a-divider/>\n          <detail-list title=\"详情栏\" align=\"left\">\n            <detail-list-item term=\"损坏情况\">\n              <span :style=\"cStyle\">\n                {{if_damage}}\n              </span>\n            </detail-list-item>\n            <detail-list-item term=\"\"><a-icon type=\"qrcode\"/>（扫描右侧二维码查看详情）</detail-list-item>\n          </detail-list>\n\n          <a-row type=\"flex\" justify=\"end\">\n            <a-col>\n              <img :src=\"QRcode\"\n                   alt=\"请扫描二维码\" width=\"200\" height=\"200\">\n            </a-col>\n          </a-row>\n        </a-card>\n      </a-col>\n    </a-row>\n  </page-view>\n</template>\n\n<script>\n  import {mixinDevice} from '@/utils/mixin'\n  import {PageView} from '@/layouts'\n  import DetailList from '@/components/tools/DetailList'\n  import ACol from \"ant-design-vue/es/grid/Col\"\n  import {postEquipmentDetail} from \"@/api/equipment\";\n\n  const DetailListItem = DetailList.Item\n\n  function getDays(startDateStr,endDateStr){\n    var startDateArr,endDateArr,days;\n    startDateArr = startDateStr.split('.');\n    endDateArr = endDateStr.split('.');\n    var newDateS = new Date(Date.UTC(startDateArr[0],startDateArr[1]-1,startDateArr[2]));\n    var newDateE = new Date(Date.UTC(endDateArr[0],endDateArr[1]-1,endDateArr[2]));\n    days = parseInt(Math.abs(newDateE - newDateS ) / 1000 / 60 / 60 /24);\n    return days;\n  }\n\n  export default {\n    name: 'EquipInfo',\n    components: {\n      ACol,\n      PageView,\n      DetailList,\n      DetailListItem\n    },\n    mixins: [mixinDevice],\n    data() {\n      return {\n        cStyle: {},\n        name: '',\n        factory_time: '',\n        install_time: '',\n        using_time: '',\n        unit: '',\n        address: '',\n        if_damage: '',\n        QRcode: '',\n        icon: '',\n        equipMessage: '',\n        infoData: [],\n        IDTitle: '器材编号：' + this.$route.params.id,\n\n        equipmentID: this.$route.params.id,\n      }\n    },\n    watch: {\n      if_damage (is){\n        if(is === \"损坏\"){\n          this.cStyle= {color:'red'}\n        } else {\n          this.cStyle= {color:'black'}\n        }\n      }\n    },\n    mounted() {\n      postEquipmentDetail({id: this.equipmentID}).then((response) => {\n        console.log(response);\n        console.log(this.equipmentID);\n        this.DetailData = response.data;\n        this.name = this.DetailData.name;\n        this.factory_time = this.DetailData.factory_time;\n        this.install_time = this.DetailData.install_time;\n        this.using_time = this.DetailData.using_time;\n        this.unit = this.DetailData.unit;\n        this.address = this.DetailData.address;\n        if (this.DetailData.if_damage === \"1\") {\n          this.if_damage = '损坏'\n        } else {\n          this.if_damage = '正常'\n        };\n        if (this.DetailData.name === '太空漫步机') {\n          this.equipMessage = '太空漫步机可以锻炼下肢肌肉力量灵活性，促进心脑血管系统及心肺呼吸系统的健康，而且还增加了热量消耗。'\n        } else if (this.DetailData.name === '跑步机') {\n          this.equipMessage='跑步机是家庭及健身房常备的健身器材，而且是当今家庭健身器材中最简单的一种，是家庭健身器的最佳选择。'\n        }else {\n          this.equipMessage='增强人体的心肺功能，活动全身主要关节，发展上下肢和腰背部力量，还能通过运动按摩内脏增强消化系统功能。'\n        };\n        this.icon = this.DetailData.icon;\n        this.QRcode = this.DetailData.QRcode;\n        var date = new Date();\n        var nowMonth = date.getMonth() + 1;\n        var strDate = date.getDate();\n        var seperator = \".\";\n        var nowDate = date.getFullYear() + seperator + nowMonth + seperator + strDate;\n        this.using_time = getDays(this.install_time, nowDate)\n      })\n    },\n  }\n</script>\n\n<style lang=\"less\" scoped>\n\n  .page-header-wrapper-grid-content-main {\n    width: 100%;\n    height: 100%;\n    min-height: 100%;\n    transition: 0.3s;\n\n    .account-center-avatarHolder {\n      text-align: center;\n      margin-bottom: 24px;\n\n      .avatar {\n        margin: 0 auto;\n        width: 100px;\n        height: 100px;\n        margin-bottom: 20px;\n        border-radius: 50%;\n        overflow: hidden;\n\n        img {\n          height: 100%;\n          width: 100%;\n        }\n      }\n\n      .username {\n        color: rgba(0, 0, 0, 0.85);\n        font-size: 20px;\n        line-height: 28px;\n        font-weight: 500;\n        margin-bottom: 4px;\n      }\n    }\n\n    .account-center-detail {\n      p {\n        margin-bottom: 8px;\n        padding-left: 26px;\n        position: relative;\n      }\n\n      i {\n        position: absolute;\n        height: 14px;\n        width: 14px;\n        left: 0;\n        top: 4px;\n        background: url(https://gw.alipayobjects.com/zos/rmsportal/pBjWzVAHnOOtAUvZmZfy.svg);\n      }\n\n      .title {\n        background-position: 0 0;\n      }\n\n      .group {\n        background-position: 0 -22px;\n      }\n\n      .address {\n        background-position: 0 -44px;\n      }\n    }\n\n    .account-center-tags {\n      .ant-tag {\n        margin-bottom: 8px;\n      }\n    }\n\n    .account-center-team {\n      .members {\n        a {\n          display: block;\n          margin: 12px 0;\n          line-height: 24px;\n          height: 24px;\n\n          .member {\n            font-size: 14px;\n            color: rgba(0, 0, 0, 0.65);\n            line-height: 24px;\n            max-width: 100px;\n            vertical-align: top;\n            margin-left: 12px;\n            transition: all 0.3s;\n            display: inline-block;\n          }\n\n          &:hover {\n            span {\n              color: #1890ff;\n            }\n          }\n        }\n      }\n    }\n\n    .tagsTitle,\n    .teamTitle {\n      font-weight: 500;\n      color: rgba(0, 0, 0, 0.85);\n      margin-bottom: 12px;\n    }\n  }\n\n  .detail-layout {\n    margin-left: 44px;\n  }\n\n  .text {\n    color: rgba(0, 0, 0, .45);\n  }\n\n  .heading {\n    color: rgba(0, 0, 0, .85);\n    font-size: 20px;\n  }\n\n  .no-data {\n    color: rgba(0, 0, 0, .25);\n    text-align: center;\n    line-height: 64px;\n    font-size: 16px;\n\n    i {\n      font-size: 24px;\n      margin-right: 16px;\n      position: relative;\n      top: 3px;\n    }\n  }\n\n  .mobile {\n    .detail-layout {\n      margin-left: unset;\n    }\n\n    .status-list {\n      text-align: left;\n    }\n  }\n\n  .return-button{\n    position: absolute;\n    z-index: 999;\n    right:1em;\n    top:8.5em;\n  }\n\n</style>\n"]}]}